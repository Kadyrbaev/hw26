(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{24:function(t,e,c){t.exports={item:"ProductItem_item__3-dDQ",price:"ProductItem_price__Er-uj",actions:"ProductItem_actions__zKjim"}},25:function(t,e,c){t.exports={products:"Products_products__3DwaJ",formdiv:"Products_formdiv__3ma40",formsecond:"Products_formsecond__1Acig"}},26:function(t,e,c){t.exports={notification:"Notification_notification__2RiWI",error:"Notification_error__SRp-W",success:"Notification_success__3OtN3"}},30:function(t,e,c){t.exports={button:"CartButton_button__Vg66_",badge:"CartButton_badge__2OcMJ"}},31:function(t,e,c){t.exports={btnname:"GetZapros_btnname__3hOcc",div2:"GetZapros_div2__32jR7"}},32:function(t,e,c){t.exports={card:"Card_card__2z0t6"}},33:function(t,e,c){t.exports={cart:"Cart_cart__2E84J"}},35:function(t,e,c){t.exports={header:"MainHeader_header__2uU4d"}},41:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var n=c(15),i=c.n(n),a=(c(41),c(32)),r=c.n(a),s=c(0),o=function(t){return Object(s.jsx)("section",{className:"".concat(r.a.card," ").concat(t.className?t.className:""),children:t.children})},u=c(33),d=c.n(u),l=c(10),j=Object(l.b)({name:"ui",initialState:{cartIsVisible:!1,notification:null,isGetValid:!1},reducers:{toggle:function(t){t.cartIsVisible=!t.cartIsVisible},showNotification:function(t,e){t.notification={status:e.payload.status,title:e.payload.title,message:e.payload.message}},hideNotification:function(t){t.notification=null},getZapros:function(t){t.isGetValid=!t.isGetValid}}}),b=j.actions,f=j,m=Object(l.b)({name:"cart",initialState:{items:[],array:[],totalQuantity:0},reducers:{addItemToCart:function(t,e){var c=e.payload,n=t.items.find((function(t){return t.itemId===c.id}));t.totalQuantity++;var i=+c.price;n?(n.quantity++,n.totalPrice=n.totalPrice+i):t.items.push({itemId:c.id,price:i,quantity:1,totalPrice:i,name:c.name})},removeItemFromCart:function(t,e){var c=e.payload,n=t.items.find((function(t){return t.itemId===c}));t.totalQuantity--,n.totalPrice=n.totalPrice-n.price,1===n.quantity?t.items=t.items.filter((function(t){return t.itemId!==c})):n.quantity--},deleteCart:function(t,e){var c=e.payload;t.items=t.items.find((function(t){return t.id!==c})),console.log(t.items)},zapros:function(t,e){console.log(e.payload),t.array=e.payload}}}),h=m.actions,O=m,p=c(7),x=c.n(p),_=c(4),g=function(t){var e=Object(_.b)(),c=t.item,n=c.title,i=c.quantity,a=c.total,r=c.price,o=c.id;return Object(s.jsxs)("li",{className:x.a.item,children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h3",{children:n}),Object(s.jsxs)("div",{className:x.a.price,children:["$",a," ",Object(s.jsxs)("span",{className:x.a.itemprice,children:["($",+r,"/item)"]})]})]}),Object(s.jsxs)("div",{className:x.a.details,children:[Object(s.jsxs)("div",{className:x.a.quantity,children:["x ",Object(s.jsx)("span",{children:i})]}),Object(s.jsxs)("div",{className:x.a.actions,children:[Object(s.jsx)("button",{onClick:function(){e(h.removeItemFromCart(o))},children:"-"}),Object(s.jsx)("button",{onClick:function(){e(h.addItemToCart({id:o,price:r,name:n}))},children:"+"})]})]})]})},v=function(t){var e=Object(_.c)((function(t){return t.cart.items}));return console.log(e),Object(s.jsxs)(o,{className:d.a.cart,children:[Object(s.jsx)("h2",{children:"Your Shopping Cart"}),Object(s.jsx)("ul",{children:e.map((function(t){return Object(s.jsx)(g,{item:{id:t.itemId,title:t.name,quantity:t.quantity,total:t.totalPrice,price:t.price}},t.id)}))})]})},N=c(1),y=c(30),C=c.n(y),I=function(t){var e=Object(_.c)((function(t){return t.cart.totalQuantity})),c=Object(_.b)();return Object(s.jsxs)("button",{onClick:function(){c(b.toggle()),console.log(2)},className:C.a.button,children:[Object(s.jsx)("span",{children:"My Cart"}),Object(s.jsx)("span",{className:C.a.badge,children:e})]})},S=c(35),w=c.n(S),P=function(t){return Object(s.jsxs)("header",{className:w.a.header,children:[Object(s.jsx)("h1",{children:"ReduxCart"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(I,{})})})})]})},E=function(t){return Object(s.jsxs)(N.Fragment,{children:[Object(s.jsx)(P,{}),Object(s.jsx)("main",{children:t.children})]})},k=c(23),V=c(17),q=c(6),T=c(12),G=c(5),F=c(24),J=c.n(F),Q=function(t){var e=Object(G.b)(),c=t.title,n=t.price,i=t.description,a=t.id;return Object(s.jsx)("li",{className:J.a.item,children:Object(s.jsxs)(o,{children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h3",{children:c}),Object(s.jsxs)("div",{className:J.a.price,children:["$",+n]})]}),Object(s.jsx)("p",{children:i}),Object(s.jsx)("div",{className:J.a.actions,children:Object(s.jsx)("button",{onClick:function(){e(h.addItemToCart({id:a,name:c,price:n}))},children:"Add to Cart"})})]})})},R=c(25),z=c.n(R),A=function(t){var e=Object(N.useState)([]),c=Object(T.a)(e,2),n=c[0],i=c[1],a=Object(N.useState)({description:"",title:"",price:""}),r=Object(T.a)(a,2),o=r[0],u=r[1];function d(t){var e=t.target.value;u(Object(q.a)(Object(q.a)({},o),{},Object(V.a)({},t.target.name,e))),console.log(o)}return Object(s.jsxs)("section",{className:z.a.products,children:[Object(s.jsx)("h2",{children:"Buy your favorite products"}),Object(s.jsx)("form",{onSubmit:function(t){t.preventDefault(),i((function(t){return[].concat(Object(k.a)(t),[Object(q.a)(Object(q.a)({},o),{},{id:Math.random()})])})),u({description:"",title:"",price:""})},className:z.a.formdiv,children:Object(s.jsxs)("div",{className:z.a.formsecond,children:[Object(s.jsx)("h3",{children:"Form"}),Object(s.jsx)("input",{name:"description",placeholder:"description",onChange:d}),Object(s.jsx)("input",{name:"title",placeholder:"title",onChange:d}),Object(s.jsx)("input",{type:"number",name:"price",placeholder:"price",onChange:d}),Object(s.jsx)("button",{type:"submit",children:"Add Cart"})]})}),Object(s.jsx)("ul",{children:n.map((function(t){return Object(s.jsx)(Q,{id:t.id,title:t.title,price:t.price,description:t.description},t.id)}))})]})},B=c(3),D=c(13),M=c(26),Z=c.n(M),W=function(t){var e="";"error"===t.status&&(e=Z.a.error),"success"===t.status&&(e=Z.a.success);var c="".concat(Z.a.notification," ").concat(e);return Object(s.jsxs)("section",{className:c,children:[Object(s.jsx)("h2",{children:t.title}),Object(s.jsx)("p",{children:t.message})]})},$=function(){return function(t){t(b.showNotification({status:"pending",title:"Sending...",message:"Sending data to cart !"})),fetch("https://jsonplaceholder.typicode.com/users").then((function(t){return t.json()})).then((function(e){if(t(h.zapros(e)),console.log(e),!e.ok)throw new Error("Sending cart data failed");return t(b.showNotification({status:"error",title:"Error.s!",message:"Sending Cart data failed !"})),e.json()})).catch((function(){t(b.showNotification({status:"success",title:"Success...",message:"Sent Cart data successfully !"}))}))}},U=c(31),H=c.n(U),K=!0,Y=function(){var t=Object(G.b)(),e=Object(G.c)((function(t){return t.cart.array})),c=Object(G.c)((function(t){return t.ui.isGetValid}));console.log(c);var n,i=Object(G.c)((function(t){return t.ui.notification}));return Object(N.useEffect)((function(){return i&&(n=setTimeout((function(){t(b.hideNotification())}),3e3)),function(){clearTimeout(n)}}),[i]),Object(N.useEffect)((function(){K?K=!1:t($())}),[c]),Object(s.jsxs)("div",{className:H.a.btnname,children:[Object(s.jsx)("button",{onClick:function(){t($())},children:"GET ZAPROS"}),e.map((function(t){return Object(s.jsx)("div",{className:H.a.div2,children:Object(s.jsx)("span",{children:t.name})})}))]})},L=!0;var X=function(){var t=Object(D.a)(),e=Object(B.b)((function(t){return t.ui.cartIsVisible})),c=Object(B.b)((function(t){return t.ui.notification})),n=Object(B.b)((function(t){return t.cart}));return Object(N.useEffect)((function(){var e;return c&&(e=setTimeout((function(){t(b.hideNotification())}),3e3)),function(){clearTimeout(e)}}),[c]),Object(N.useEffect)((function(){L?L=!1:t(function(t){return function(e){e(b.showNotification({status:"pending",title:"Sending...",message:"Sending data to cart !"})),fetch("https://toolkit-87a4f-default-rtdb.firebaseio.com/cart.json",{method:"PUT",body:JSON.stringify(t)}).then((function(t){if(!t.ok)throw new Error("Sending cart data failed");return e(b.showNotification({status:"success",title:"Success...",message:"Sent Cart data successfully !"})),t.json()})).then((function(t){console.log(t)})).catch((function(t){e(b.showNotification({status:"error",title:"Error.!",message:"Sending Cart data failed !"}))}))}}(n))}),[n]),console.log(e),Object(s.jsxs)(s.Fragment,{children:[c&&Object(s.jsx)(W,{status:c.status,title:c.title,message:c.message}),Object(s.jsxs)(E,{children:[e&&Object(s.jsx)(v,{}),Object(s.jsx)(A,{})]}),Object(s.jsx)(Y,{})]})},tt=Object(l.a)({reducer:{ui:f.reducer,cart:O.reducer}});i.a.render(Object(s.jsx)(G.a,{store:tt,children:Object(s.jsx)(X,{})}),document.getElementById("root"))},7:function(t,e,c){t.exports={item:"CartItem_item__2gDSV",details:"CartItem_details__-laks",quantity:"CartItem_quantity__1lJEW",price:"CartItem_price__1CV76",itemprice:"CartItem_itemprice__2vFba",actions:"CartItem_actions__23GNF"}}},[[48,1,2]]]);
//# sourceMappingURL=main.ee57416f.chunk.js.map